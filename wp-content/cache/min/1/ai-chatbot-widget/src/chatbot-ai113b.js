document.addEventListener("DOMContentLoaded",function(){document.getElementById('chatbot_btn_overlay').addEventListener('click',function(){var chatbotBlock=document.getElementById('chatbot_block');chatbotBlock.style.display=(chatbotBlock.style.display==='none'||chatbotBlock.style.display==='')?'block':'none';document.getElementById('chatbot_block').classList.remove('close');const chatbotBtn=document.getElementById('chatbot_btn').contentWindow;document.getElementById('chatbot_btn').style.display='none';document.getElementById('chatbot_close_overlay').style.display='block';this.style.display='none';applyChatbotStyles();setTimeout(()=>{updateOverlayPosition()},250)});document.getElementById('chatbot_close_overlay').addEventListener('click',function(){setTimeout(()=>{document.getElementById('chatbot_block').style.display='none'},250);document.getElementById('chatbot_block').classList.add('close');document.getElementById('chatbot_btn').style.display='block';document.getElementById('chatbot_btn_overlay').style.display='block';document.getElementById('chatbot_close_overlay').style.display='none'});const element=document.getElementById('chatbot_block');const overlayElement=document.getElementById('chatbot_close_overlay');function updateOverlayPosition(){const elementHeight=element.offsetHeight;overlayElement.style.bottom=`${elementHeight - 30}px`}
function applyChatbotStyles(){const chatbotBlockStyle=document.getElementById("chatbot_block");if(window.matchMedia("(max-width: 480px)").matches){chatbotBlockStyle.style.setProperty("max-height","100%","important");chatbotBlockStyle.style.width="100%";chatbotBlockStyle.style.bottom="0";chatbotBlockStyle.style.right="0";chatbotBlockStyle.style.borderRadius="0"}else{chatbotBlockStyle.style.removeProperty("max-height","550px","important");chatbotBlockStyle.style.width="400px";chatbotBlockStyle.style.bottom="20px";chatbotBlockStyle.style.right="20px";chatbotBlockStyle.style.borderRadius="20px"}}
function updateOverlayPosition(){let chatbotBlockContainer=document.querySelector('#chatbot_block');let CloseOverlay=document.querySelector('#chatbot_close_overlay');if(!chatbotBlockContainer||!CloseOverlay)return;let chatbotRect=chatbotBlockContainer.getBoundingClientRect();CloseOverlay.style.left=(chatbotRect.left+chatbotRect.width-42)+"px";CloseOverlay.style.top=(chatbotRect.top+22)+"px"}
applyChatbotStyles();window.addEventListener("resize",()=>{applyChatbotStyles();setTimeout(()=>{updateOverlayPosition()},250)})})